{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pupillo matthias/Documents/Me/Masters/Capstone/capstone-ui/paintballinvetory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pupillo matthias/Documents/Me/Masters/Capstone/capstone-ui/paintballinvetory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/pupillo matthias/Documents/Me/Masters/Capstone/capstone-ui/paintballinvetory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/alt-text */import React from'react';import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonItem,IonButton,IonLabel,IonGrid,IonRow,IonCol,IonCard,IonCardHeader,IonCardSubtitle,IonCardTitle,IonCardContent,IonIcon,IonModal,IonList,IonInput,IonToggle,IonItemDivider}from'@ionic/react';import'./Tab1.css';import axios from'axios';import{Plugins,CameraResultType}from'@capacitor/core';import{addCircle,camera}from'ionicons/icons';var URL='https://paintballinventory.pupillogroup.com/api/guns';var Camera=Plugins.Camera;var fetchGuns=function fetchGuns(){return axios({url:URL,method:'get'}).then(function(response){console.log(response);return response.data;});};var postGuns=function postGuns(name,image,featured,date){axios.post(URL,{name:name,image:image,featured:featured,date:date}).then(function(response){console.log(response);return response.data;}).catch(function(error){console.log(error);});};var Guns=function Guns(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),guns=_React$useState2[0],setGuns=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),photo=_React$useState4[0],setPhoto=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),showModal=_React$useState6[0],setShowModal=_React$useState6[1];var _React$useState7=React.useState(),_React$useState8=_slicedToArray(_React$useState7,2),text=_React$useState8[0],setText=_React$useState8[1];var _React$useState9=React.useState(),_React$useState10=_slicedToArray(_React$useState9,2),featured=_React$useState10[0],setFeatured=_React$useState10[1];React.useEffect(function(){fetchGuns().then(function(data){return setGuns(data);});},[]);var savePicture=function savePicture(){console.log(\"Save Picture\");console.log(\"Name of Gun \"+text);console.log(\"Name of Picture \"+photo);console.log(\"Featured \"+featured);var d=new Date();console.log(\"Date \"+d.toDateString());postGuns(text,photo,featured,d.toDateString());fetchGuns().then(function(data){return setGuns(data);});setShowModal(false);};var takePicture=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var image,imageUrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Take Picture\");_context.next=3;return Camera.getPhoto({quality:90,allowEditing:false,resultType:CameraResultType.Uri});case 3:image=_context.sent;imageUrl=image.webPath;// Can be set to the src of an image now\nsetPhoto(imageUrl);case 6:case\"end\":return _context.stop();}}},_callee);}));return function takePicture(){return _ref.apply(this,arguments);};}();var itemsToRender;if(guns){itemsToRender=guns.map(function(a){return/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonCard,null,/*#__PURE__*/React.createElement(\"img\",{src:a['image'],alt:\"Image Proccessing Not Working\"}),/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardSubtitle,null,a['date']),/*#__PURE__*/React.createElement(IonCardTitle,null,a['name'])),/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonButton,{href:'guns/'+a['gun_id'],color:\"primary\",slot:\"end\"},\"View Details\"))));});}return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonTitle,null,\"All Guns\"))),/*#__PURE__*/React.createElement(IonContent,{className:\"ion-padding\"},/*#__PURE__*/React.createElement(IonGrid,null,/*#__PURE__*/React.createElement(IonRow,null,itemsToRender),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,\"Add Gun\")),/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonButton,{onClick:function onClick(){return setShowModal(true);},color:\"primary\",slot:\"end\"},/*#__PURE__*/React.createElement(IonIcon,{slot:\"start\",icon:addCircle}),\"Add\"))))),/*#__PURE__*/React.createElement(IonModal,{isOpen:showModal,cssClass:\"my-custom-class\"},/*#__PURE__*/React.createElement(IonList,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"floating\"},\"Gun Name\"),/*#__PURE__*/React.createElement(IonInput,{value:text,onIonChange:function onIonChange(e){return setText(e.detail.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonButton,{color:\"primary\",onClick:function onClick(){return takePicture();}},/*#__PURE__*/React.createElement(IonIcon,{slot:\"start\",icon:camera}),\"Take Picture\")),/*#__PURE__*/React.createElement(IonItemDivider,null,\"Featured Gun\"),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonToggle,{name:\"featured\",color:\"primary\",onIonChange:function onIonChange(e){return setFeatured(e.detail.checked);}})),/*#__PURE__*/React.createElement(IonButton,{onClick:function onClick(){return savePicture();},color:\"primary\",slot:\"end\"},\"Save\")),/*#__PURE__*/React.createElement(IonButton,{onClick:function onClick(){return setShowModal(false);}},\"Cancel\"))));};export default Guns;","map":{"version":3,"sources":["/Users/pupillo matthias/Documents/Me/Masters/Capstone/capstone-ui/paintballinvetory/src/pages/Guns.tsx"],"names":["React","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonItem","IonButton","IonLabel","IonGrid","IonRow","IonCol","IonCard","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCardContent","IonIcon","IonModal","IonList","IonInput","IonToggle","IonItemDivider","axios","Plugins","CameraResultType","addCircle","camera","URL","Camera","fetchGuns","url","method","then","response","console","log","data","postGuns","name","image","featured","date","post","catch","error","Guns","useState","guns","setGuns","photo","setPhoto","showModal","setShowModal","text","setText","setFeatured","useEffect","savePicture","d","Date","toDateString","takePicture","getPhoto","quality","allowEditing","resultType","Uri","imageUrl","webPath","itemsToRender","map","a","e","detail","value","checked"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/alt-text */\nimport React from 'react';\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonItem, IonButton, IonLabel, IonGrid, IonRow, IonCol, IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCardContent, IonIcon, IonModal, IonList, IonInput, IonToggle, IonItemDivider } from '@ionic/react';\nimport './Tab1.css';\nimport axios from 'axios';\nimport { Plugins, CameraResultType } from '@capacitor/core';\nimport { addCircle, camera, gitNetwork} from 'ionicons/icons';\nimport { Gun } from '../types/Gun';\n\nconst URL = 'https://paintballinventory.pupillogroup.com/api/guns';\nconst { Camera } = Plugins;\n\nconst fetchGuns = () => {\n\n  return axios({\n    url: URL,\n    method: 'get'\n  }).then(response => {\n\n    console.log(response);\n    return response.data;\n  })\n};\n\nconst postGuns = (name: any, image: any, featured:any, date: string) => {\n\n    axios.post(URL, {\n        name: name,\n        image: image,\n        featured: featured,\n        date: date\n      })\n      .then(function (response) {\n        console.log(response);\n        return response.data;\n      })\n      .catch(function (error) {\n        console.log(error);\n      })    \n  };\n\n\nconst Guns: React.FC = () => {\n\n    const [guns, setGuns] = React.useState([]);\n    const [photo, setPhoto] = React.useState<string>();\n    const [showModal, setShowModal] = React.useState(false);\n    const [text, setText] = React.useState<string>();\n    const [featured, setFeatured] = React.useState<boolean>();\n\n  React.useEffect(() => {\n\n    fetchGuns().then(data => setGuns(data));\n\n  }, []);\n\n  const savePicture = () => {\nconsole.log(\"Save Picture\");\nconsole.log(\"Name of Gun \" + text );\nconsole.log(\"Name of Picture \" + photo );\nconsole.log(\"Featured \" + featured );\nvar d = new Date();\nconsole.log(\"Date \" + d.toDateString());\npostGuns(text, photo,featured,d.toDateString());\nfetchGuns().then(data => setGuns(data));\n    setShowModal(false)\n  }\n\n  const takePicture = async () => {\n      console.log(\"Take Picture\");\n    const image = await Camera.getPhoto({\n    quality: 90,\n    allowEditing: false,\n    resultType: CameraResultType.Uri\n    });\n    var imageUrl = image.webPath;\n    // Can be set to the src of an image now\n    setPhoto(imageUrl);\n    }\n\nlet itemsToRender;\nif (guns) {\n  itemsToRender = guns.map(a=> {\n    return <IonCol><IonCard>\n            <img src={a['image']} alt=\"Image Proccessing Not Working\" />\n          <IonCardHeader>\n            <IonCardSubtitle>{a['date']}</IonCardSubtitle>\n            <IonCardTitle>{a['name']}</IonCardTitle>\n          </IonCardHeader>\n          <IonCardContent>\n          <IonButton href={'guns/'+ a['gun_id']} color=\"primary\" slot=\"end\">View Details</IonButton>\n          </IonCardContent>\n        </IonCard>\n        </IonCol>\n        ;\n  });\n}\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>All Guns</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        \n         <IonGrid>\n         <IonRow>\n         {itemsToRender}\n         </IonRow>\n         <IonRow>\n        <IonCol>\n        \n        <IonCardHeader>\n            <IonCardTitle>Add Gun</IonCardTitle>\n          </IonCardHeader>\n          <IonCardContent>\n          <IonButton onClick={() => setShowModal(true)} color=\"primary\" slot=\"end\"><IonIcon slot=\"start\" icon={addCircle} />Add</IonButton>\n           </IonCardContent>\n        </IonCol>\n        \n        \n      </IonRow>\n      </IonGrid>\n      <IonModal isOpen={showModal} cssClass='my-custom-class'>\n      <IonList>\n      <IonItem>\n            <IonLabel position=\"floating\">Gun Name</IonLabel>\n            <IonInput value={text} onIonChange={e => setText(e.detail.value!)}></IonInput>\n          </IonItem>\n          <IonItem>\n            <IonButton color=\"primary\" onClick={() => takePicture()}>\n              <IonIcon slot=\"start\" icon={camera} />Take Picture\n            </IonButton>\n       \n          </IonItem>\n          <IonItemDivider>Featured Gun</IonItemDivider>\n          <IonItem><IonToggle name=\"featured\" color=\"primary\" onIonChange={e => setFeatured(e.detail.checked)} /></IonItem>\n          <IonButton onClick={() => savePicture()} color=\"primary\" slot=\"end\">Save</IonButton>\n          </IonList>\n        <IonButton onClick={() => setShowModal(false)}>Cancel</IonButton>\n      </IonModal>\n\n      </IonContent>\n\n    </IonPage>\n  );\n};\n\n\nexport default Guns;"]},"metadata":{},"sourceType":"module"}